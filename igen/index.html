<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image generator V1</title>
</head>
<body> 
    <link rel="stylesheet" href="index.css">
    <div style="background-color: orange";>
    <h1>not so great image generator version 0.1.2</h1>
    <h5>don't use on internet explorer, i dont feel like converting the fonts so it won't work.</h5>

    <h3>‚ö† I need the height and width of the displays to finish the code.....      ‚ö†</h3>
    <h3>‚ö† Untill I do that the text might look peepee, if so just add a few spaces ‚ö†</h3>
    </div>
    <hr>
    <br>
    <canvas id='textCanvas' height=140px></canvas>
    <img id='image'>Image will render here. Right click to save.</img>

    <hr>

    <br>

    <uinputMain id="userinput">
        <uinput>
            <p>Main Text</p>
            <input type="color" id="MTkleur" value="#FF9933">
            <input type="text" id="text">
        </uinput>

        <uinput>
            <p>Bottom Textüçë</p>
            <input type="color" id="BTkleur" value="#FF9933">
            <input type="text" id="bottomtext">
        </uinput>

        <uinput>
            <p>route number</p>
            <input type="color" id="RNkleur" value="#FF9933">
            <input type="text" id="routenummer">
        </uinput>
    </uinputMain>
    <br>
    <hr>
    <p>
        Planned updates: color picker for background; fixed size + text scaling and idk maybe something else
    </p>
    <hr>
    <p>
        Fix log:
        <p>Color selector is now availible</p>
        <p>image renderer should now work a bit better</p>
        <p>i think thats all i did for now</p>
    </p>
    <script>
        var tCtx = document.getElementById('textCanvas').getContext('2d'), //Hidden canvas
        imageElem = document.getElementById('image'); //Image element
        var maintext = document.getElementById('text');
        var bottomtext = document.getElementById('bottomtext');
        var routenummer = document.getElementById('routenummer');
        var mainkleur = document.getElementById('MTkleur');
        var bottomkleur = document.getElementById('BTkleur')
        var routekleur = document.getElementById('RNkleur')

  
        // Text input element
        document.getElementById('userinput').addEventListener('keyup', function() {
         /*
            ---------------------------------------------------------
        i need the with and height of the displays to finish this code :-) 
            ---------------------------------------------------------
        */
            /*--Render Image--*/
            var breedheid = ((tCtx.measureText(this.value).width)+(tCtx.measureText(routenummer.value).width)+15);

            tCtx.canvas.width = breedheid;

        

            var opzij = (15+(tCtx.measureText(maintext.value).width*10));
            
            tCtx.fillStyle = "#000000";
            tCtx.fillRect(0, 0, tCtx.canvas.width, tCtx.canvas.height);

            tCtx.fillStyle = mainkleur.value;
            tCtx.font = "80px dotnorm";             //max width 430  height 100
            tCtx.fillText(maintext.value, 10, 60);
           

            tCtx.fillStyle = bottomkleur.value;
            tCtx.font = "40px dotnorm";             //max width 430  height 40
            tCtx.fillText(bottomtext.value, 10, 120);

            tCtx.fillStyle = routekleur.value;
            tCtx.font = "140px dotnorm";            //max width 160    height 160
            tCtx.fillText(routenummer.value, opzij, 110);





            imageElem.src = tCtx.canvas.toDataURL();
            console.log(imageElem.src);
        }, false);
    </script>
</body>
</html>